{"ast":null,"code":"import{useContext}from\"react\";import{BudgetTrackerContext}from\"./context/context\";import{incomeCategories,expenseCategories,savingCategories,resetCategories}from\"./constants/categories\";var useTransactions=function useTransactions(title){resetCategories();var _useContext=useContext(BudgetTrackerContext),transactions=_useContext.transactions,balance=_useContext.balance;var allTransactions=transactions.filter(function(transaction){return transaction.type===title;});var total=allTransactions.reduce(function(acc,currVal){return acc+=currVal.amount;},0);var categories=title===\"Income\"?incomeCategories:title===\"Expense\"?expenseCategories:savingCategories;allTransactions.forEach(function(transaction){var category=categories.find(function(category){return category.type===transaction.category;});if(category)category.amount+=transaction.amount;});var allSaving=transactions.filter(function(transaction){return transaction.type===\"Saving\";});var totalSaving=allSaving.reduce(function(acc,currVal){return acc+=currVal.amount;},0);var allExpense=transactions.filter(function(transaction){return transaction.type===\"Expense\";});var totalExpense=allExpense.reduce(function(acc,currVal){return acc+=currVal.amount;},0);var filteredCategories=categories.filter(function(c){return c.amount>0;});var chartOverviewData={datasets:[{data:[balance,totalExpense,totalSaving],backgroundColor:[\"rgba(75, 192, 192, 0.5)\",\"rgba(255, 99, 132, 0.5)\",\"rgba(54, 162, 235, 0.5)\"]}],labels:[\"Balance\",\"Expense\",\"Saving\"]};var chartData={datasets:[{data:filteredCategories.map(function(c){return c.amount;}),backgroundColor:filteredCategories.map(function(c){return c.color;})}],labels:filteredCategories.map(function(c){return c.type;})};return{filteredCategories:filteredCategories,total:total,chartData:chartData,chartOverviewData:chartOverviewData,totalExpense:totalExpense,totalSaving:totalSaving};};export default useTransactions;","map":{"version":3,"sources":["/Users/KennsCarlo/Desktop/budget-tracker-v1/src/useTransactions.js"],"names":["useContext","BudgetTrackerContext","incomeCategories","expenseCategories","savingCategories","resetCategories","useTransactions","title","transactions","balance","allTransactions","filter","transaction","type","total","reduce","acc","currVal","amount","categories","forEach","category","find","allSaving","totalSaving","allExpense","totalExpense","filteredCategories","c","chartOverviewData","datasets","data","backgroundColor","labels","chartData","map","color"],"mappings":"AAAA,OAASA,UAAT,KAA2B,OAA3B,CACA,OAASC,oBAAT,KAAqC,mBAArC,CAEA,OACEC,gBADF,CAEEC,iBAFF,CAGEC,gBAHF,CAIEC,eAJF,KAKO,wBALP,CAOA,GAAMC,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAACC,KAAD,CAAW,CACjCF,eAAe,GACf,gBAAkCL,UAAU,CAACC,oBAAD,CAA5C,CAAQO,YAAR,aAAQA,YAAR,CAAsBC,OAAtB,aAAsBA,OAAtB,CACA,GAAMC,CAAAA,eAAe,CAAGF,YAAY,CAACG,MAAb,CACtB,SAACC,WAAD,QAAiBA,CAAAA,WAAW,CAACC,IAAZ,GAAqBN,KAAtC,EADsB,CAAxB,CAGA,GAAMO,CAAAA,KAAK,CAAGJ,eAAe,CAACK,MAAhB,CACZ,SAACC,GAAD,CAAMC,OAAN,QAAmBD,CAAAA,GAAG,EAAIC,OAAO,CAACC,MAAlC,EADY,CAEZ,CAFY,CAAd,CAIA,GAAMC,CAAAA,UAAU,CACdZ,KAAK,GAAK,QAAV,CACIL,gBADJ,CAEIK,KAAK,GAAK,SAAV,CACAJ,iBADA,CAEAC,gBALN,CAMAM,eAAe,CAACU,OAAhB,CAAwB,SAACR,WAAD,CAAiB,CACvC,GAAMS,CAAAA,QAAQ,CAAGF,UAAU,CAACG,IAAX,CACf,SAACD,QAAD,QAAcA,CAAAA,QAAQ,CAACR,IAAT,GAAkBD,WAAW,CAACS,QAA5C,EADe,CAAjB,CAGA,GAAIA,QAAJ,CAAcA,QAAQ,CAACH,MAAT,EAAmBN,WAAW,CAACM,MAA/B,CACf,CALD,EAMA,GAAMK,CAAAA,SAAS,CAAGf,YAAY,CAACG,MAAb,CAChB,SAACC,WAAD,QAAiBA,CAAAA,WAAW,CAACC,IAAZ,GAAqB,QAAtC,EADgB,CAAlB,CAGA,GAAMW,CAAAA,WAAW,CAAGD,SAAS,CAACR,MAAV,CAClB,SAACC,GAAD,CAAMC,OAAN,QAAmBD,CAAAA,GAAG,EAAIC,OAAO,CAACC,MAAlC,EADkB,CAElB,CAFkB,CAApB,CAIA,GAAMO,CAAAA,UAAU,CAAGjB,YAAY,CAACG,MAAb,CACjB,SAACC,WAAD,QAAiBA,CAAAA,WAAW,CAACC,IAAZ,GAAqB,SAAtC,EADiB,CAAnB,CAGA,GAAMa,CAAAA,YAAY,CAAGD,UAAU,CAACV,MAAX,CACnB,SAACC,GAAD,CAAMC,OAAN,QAAmBD,CAAAA,GAAG,EAAIC,OAAO,CAACC,MAAlC,EADmB,CAEnB,CAFmB,CAArB,CAKA,GAAMS,CAAAA,kBAAkB,CAAGR,UAAU,CAACR,MAAX,CAAkB,SAACiB,CAAD,QAAOA,CAAAA,CAAC,CAACV,MAAF,CAAW,CAAlB,EAAlB,CAA3B,CAEA,GAAMW,CAAAA,iBAAiB,CAAG,CACxBC,QAAQ,CAAE,CACR,CACEC,IAAI,CAAE,CAACtB,OAAD,CAAUiB,YAAV,CAAwBF,WAAxB,CADR,CAEEQ,eAAe,CAAE,CACf,yBADe,CAEf,yBAFe,CAGf,yBAHe,CAFnB,CADQ,CADc,CAWxBC,MAAM,CAAE,CAAC,SAAD,CAAY,SAAZ,CAAuB,QAAvB,CAXgB,CAA1B,CAaA,GAAMC,CAAAA,SAAS,CAAG,CAChBJ,QAAQ,CAAE,CACR,CACEC,IAAI,CAAEJ,kBAAkB,CAACQ,GAAnB,CAAuB,SAACP,CAAD,QAAOA,CAAAA,CAAC,CAACV,MAAT,EAAvB,CADR,CAEEc,eAAe,CAAEL,kBAAkB,CAACQ,GAAnB,CAAuB,SAACP,CAAD,QAAOA,CAAAA,CAAC,CAACQ,KAAT,EAAvB,CAFnB,CADQ,CADM,CAOhBH,MAAM,CAAEN,kBAAkB,CAACQ,GAAnB,CAAuB,SAACP,CAAD,QAAOA,CAAAA,CAAC,CAACf,IAAT,EAAvB,CAPQ,CAAlB,CAUA,MAAO,CACLc,kBAAkB,CAAlBA,kBADK,CAELb,KAAK,CAALA,KAFK,CAGLoB,SAAS,CAATA,SAHK,CAILL,iBAAiB,CAAjBA,iBAJK,CAKLH,YAAY,CAAZA,YALK,CAMLF,WAAW,CAAXA,WANK,CAAP,CAQD,CAtED,CAwEA,cAAelB,CAAAA,eAAf","sourcesContent":["import { useContext } from \"react\";\r\nimport { BudgetTrackerContext } from \"./context/context\";\r\n\r\nimport {\r\n  incomeCategories,\r\n  expenseCategories,\r\n  savingCategories,\r\n  resetCategories,\r\n} from \"./constants/categories\";\r\n\r\nconst useTransactions = (title) => {\r\n  resetCategories();\r\n  const { transactions, balance } = useContext(BudgetTrackerContext);\r\n  const allTransactions = transactions.filter(\r\n    (transaction) => transaction.type === title\r\n  );\r\n  const total = allTransactions.reduce(\r\n    (acc, currVal) => (acc += currVal.amount),\r\n    0\r\n  );\r\n  const categories =\r\n    title === \"Income\"\r\n      ? incomeCategories\r\n      : title === \"Expense\"\r\n      ? expenseCategories\r\n      : savingCategories;\r\n  allTransactions.forEach((transaction) => {\r\n    const category = categories.find(\r\n      (category) => category.type === transaction.category\r\n    );\r\n    if (category) category.amount += transaction.amount;\r\n  });\r\n  const allSaving = transactions.filter(\r\n    (transaction) => transaction.type === \"Saving\"\r\n  );\r\n  const totalSaving = allSaving.reduce(\r\n    (acc, currVal) => (acc += currVal.amount),\r\n    0\r\n  );\r\n  const allExpense = transactions.filter(\r\n    (transaction) => transaction.type === \"Expense\"\r\n  );\r\n  const totalExpense = allExpense.reduce(\r\n    (acc, currVal) => (acc += currVal.amount),\r\n    0\r\n  );\r\n\r\n  const filteredCategories = categories.filter((c) => c.amount > 0);\r\n\r\n  const chartOverviewData = {\r\n    datasets: [\r\n      {\r\n        data: [balance, totalExpense, totalSaving],\r\n        backgroundColor: [\r\n          \"rgba(75, 192, 192, 0.5)\",\r\n          \"rgba(255, 99, 132, 0.5)\",\r\n          \"rgba(54, 162, 235, 0.5)\",\r\n        ],\r\n      },\r\n    ],\r\n    labels: [\"Balance\", \"Expense\", \"Saving\"],\r\n  };\r\n  const chartData = {\r\n    datasets: [\r\n      {\r\n        data: filteredCategories.map((c) => c.amount),\r\n        backgroundColor: filteredCategories.map((c) => c.color),\r\n      },\r\n    ],\r\n    labels: filteredCategories.map((c) => c.type),\r\n  };\r\n\r\n  return {\r\n    filteredCategories,\r\n    total,\r\n    chartData,\r\n    chartOverviewData,\r\n    totalExpense,\r\n    totalSaving,\r\n  };\r\n};\r\n\r\nexport default useTransactions;\r\n"]},"metadata":{},"sourceType":"module"}