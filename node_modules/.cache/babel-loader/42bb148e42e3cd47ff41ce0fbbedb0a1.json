{"ast":null,"code":"import { useContext } from \"react\";\nimport { BudgetTrackerContext } from \"./context/context\";\nimport { incomeCategories, expenseCategories, savingCategories, resetCategories } from \"./constants/categories\";\n\nconst useTransactions = title => {\n  resetCategories();\n  const {\n    transactions\n  } = useContext(BudgetTrackerContext);\n  const rightTransactions = transactions.filter(transaction => transaction.type === title);\n  const total = rightTransactions.reduce((acc, currVal) => acc += currVal.amount, 0);\n  const categories = title === \"Income\" ? incomeCategories : title === \"Saving\" ? savingCategories : expenseCategories;\n  rightTransactions.forEach(transaction => {\n    const category = categories.find(category => category.type === transaction.category);\n    if (category) category.amount += transaction.amount;\n  });\n  const filteredCategories = categories.filter(c => c.amount > 0);\n  const chartData = {\n    datasets: [{\n      data: filteredCategories.map(c => c.amount),\n      backgroundColor: filteredCategories.map(c => c.color)\n    }],\n    labels: filteredCategories.map(c => c.type)\n  }; // const overviewData = {\n  //   datasets: [\n  //     {\n  //       data: category.total,\n  //       backgroundColor: filteredCategories.map((c) => c.color),\n  //     },\n  //   ],\n  //   labels: filteredCategories.map(total.type),\n  // };\n\n  return {\n    filteredCategories,\n    total,\n    chartData,\n    overviewData\n  };\n};\n\nexport default useTransactions;","map":{"version":3,"sources":["/Users/KennsCarlo/Desktop/budget-tracker-v1/src/useTransactions.js"],"names":["useContext","BudgetTrackerContext","incomeCategories","expenseCategories","savingCategories","resetCategories","useTransactions","title","transactions","rightTransactions","filter","transaction","type","total","reduce","acc","currVal","amount","categories","forEach","category","find","filteredCategories","c","chartData","datasets","data","map","backgroundColor","color","labels","overviewData"],"mappings":"AAAA,SAASA,UAAT,QAA2B,OAA3B;AACA,SAASC,oBAAT,QAAqC,mBAArC;AAEA,SACEC,gBADF,EAEEC,iBAFF,EAGEC,gBAHF,EAIEC,eAJF,QAKO,wBALP;;AAOA,MAAMC,eAAe,GAAIC,KAAD,IAAW;AACjCF,EAAAA,eAAe;AACf,QAAM;AAAEG,IAAAA;AAAF,MAAmBR,UAAU,CAACC,oBAAD,CAAnC;AACA,QAAMQ,iBAAiB,GAAGD,YAAY,CAACE,MAAb,CACvBC,WAAD,IAAiBA,WAAW,CAACC,IAAZ,KAAqBL,KADd,CAA1B;AAGA,QAAMM,KAAK,GAAGJ,iBAAiB,CAACK,MAAlB,CACZ,CAACC,GAAD,EAAMC,OAAN,KAAmBD,GAAG,IAAIC,OAAO,CAACC,MADtB,EAEZ,CAFY,CAAd;AAIA,QAAMC,UAAU,GACdX,KAAK,KAAK,QAAV,GACIL,gBADJ,GAEIK,KAAK,KAAK,QAAV,GACAH,gBADA,GAEAD,iBALN;AAOAM,EAAAA,iBAAiB,CAACU,OAAlB,CAA2BR,WAAD,IAAiB;AACzC,UAAMS,QAAQ,GAAGF,UAAU,CAACG,IAAX,CACdD,QAAD,IAAcA,QAAQ,CAACR,IAAT,KAAkBD,WAAW,CAACS,QAD7B,CAAjB;AAIA,QAAIA,QAAJ,EAAcA,QAAQ,CAACH,MAAT,IAAmBN,WAAW,CAACM,MAA/B;AACf,GAND;AAQA,QAAMK,kBAAkB,GAAGJ,UAAU,CAACR,MAAX,CAAmBa,CAAD,IAAOA,CAAC,CAACN,MAAF,GAAW,CAApC,CAA3B;AAEA,QAAMO,SAAS,GAAG;AAChBC,IAAAA,QAAQ,EAAE,CACR;AACEC,MAAAA,IAAI,EAAEJ,kBAAkB,CAACK,GAAnB,CAAwBJ,CAAD,IAAOA,CAAC,CAACN,MAAhC,CADR;AAEEW,MAAAA,eAAe,EAAEN,kBAAkB,CAACK,GAAnB,CAAwBJ,CAAD,IAAOA,CAAC,CAACM,KAAhC;AAFnB,KADQ,CADM;AAOhBC,IAAAA,MAAM,EAAER,kBAAkB,CAACK,GAAnB,CAAwBJ,CAAD,IAAOA,CAAC,CAACX,IAAhC;AAPQ,GAAlB,CA3BiC,CAoCjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,SAAO;AAAEU,IAAAA,kBAAF;AAAsBT,IAAAA,KAAtB;AAA6BW,IAAAA,SAA7B;AAAwCO,IAAAA;AAAxC,GAAP;AACD,CA9CD;;AAgDA,eAAezB,eAAf","sourcesContent":["import { useContext } from \"react\";\r\nimport { BudgetTrackerContext } from \"./context/context\";\r\n\r\nimport {\r\n  incomeCategories,\r\n  expenseCategories,\r\n  savingCategories,\r\n  resetCategories,\r\n} from \"./constants/categories\";\r\n\r\nconst useTransactions = (title) => {\r\n  resetCategories();\r\n  const { transactions } = useContext(BudgetTrackerContext);\r\n  const rightTransactions = transactions.filter(\r\n    (transaction) => transaction.type === title\r\n  );\r\n  const total = rightTransactions.reduce(\r\n    (acc, currVal) => (acc += currVal.amount),\r\n    0\r\n  );\r\n  const categories =\r\n    title === \"Income\"\r\n      ? incomeCategories\r\n      : title === \"Saving\"\r\n      ? savingCategories\r\n      : expenseCategories;\r\n\r\n  rightTransactions.forEach((transaction) => {\r\n    const category = categories.find(\r\n      (category) => category.type === transaction.category\r\n    );\r\n\r\n    if (category) category.amount += transaction.amount;\r\n  });\r\n\r\n  const filteredCategories = categories.filter((c) => c.amount > 0);\r\n\r\n  const chartData = {\r\n    datasets: [\r\n      {\r\n        data: filteredCategories.map((c) => c.amount),\r\n        backgroundColor: filteredCategories.map((c) => c.color),\r\n      },\r\n    ],\r\n    labels: filteredCategories.map((c) => c.type),\r\n  };\r\n  // const overviewData = {\r\n  //   datasets: [\r\n  //     {\r\n  //       data: category.total,\r\n  //       backgroundColor: filteredCategories.map((c) => c.color),\r\n  //     },\r\n  //   ],\r\n  //   labels: filteredCategories.map(total.type),\r\n  // };\r\n  return { filteredCategories, total, chartData, overviewData };\r\n};\r\n\r\nexport default useTransactions;\r\n"]},"metadata":{},"sourceType":"module"}