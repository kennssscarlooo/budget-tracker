{"ast":null,"code":"import { useContext } from \"react\";\nimport { BudgetTrackerContext } from \"./context/context\";\nimport { incomeCategories, expenseCategories, savingCategories, resetCategories } from \"./constants/categories\";\n\nconst useTransactions = title => {\n  resetCategories();\n  const {\n    transactions\n  } = useContext(BudgetTrackerContext);\n  const allTransactions = transactions.filter(transaction => transaction.type === title);\n  const total = allTransactions.reduce((acc, currVal) => acc += currVal.amount, 0);\n  const categories = title === \"Income\" ? incomeCategories : title === \"Expense\" ? expenseCategories : savingCategories;\n  const allSaving = transactions.filter(transaction => transaction.type === \"Saving\");\n  const allExpense = transactions.filter(transaction => transaction.type === \"Expense\");\n  allTransactions.forEach(transaction => {\n    const category = categories.find(category => category.type === transaction.category);\n    if (category) category.amount += transaction.amount;\n  });\n  allSaving.forEach(transaction => {\n    if (category) allSaving.amount += transaction.amount;\n  });\n  allExpense.forEach(transaction => {\n    if (category) category.amount += transaction.amount;\n  });\n  const filteredCategories = categories.filter(c => c.amount > 0);\n  const chartOverviewData = {\n    datasets: [{\n      data: filteredCategories.map(c => c.amount),\n      backgroundColor: [\"rgba(255, 99, 132, 0.5)\", \"rgba(75, 192, 192, 0.5)\", \"rgba(54, 162, 235, 0.5)\"]\n    }],\n    labels: filteredCategories.map(c => c.type)\n  };\n  const chartData = {\n    datasets: [{\n      data: filteredCategories.map(c => c.amount),\n      backgroundColor: filteredCategories.map(c => c.color)\n    }],\n    labels: filteredCategories.map(c => c.type)\n  };\n  return {\n    filteredCategories,\n    total,\n    chartData,\n    chartOverviewData\n  };\n};\n\nexport default useTransactions;","map":{"version":3,"sources":["/Users/KennsCarlo/Desktop/budget-tracker-v1/src/useTransactions.js"],"names":["useContext","BudgetTrackerContext","incomeCategories","expenseCategories","savingCategories","resetCategories","useTransactions","title","transactions","allTransactions","filter","transaction","type","total","reduce","acc","currVal","amount","categories","allSaving","allExpense","forEach","category","find","filteredCategories","c","chartOverviewData","datasets","data","map","backgroundColor","labels","chartData","color"],"mappings":"AAAA,SAASA,UAAT,QAA2B,OAA3B;AACA,SAASC,oBAAT,QAAqC,mBAArC;AAEA,SACEC,gBADF,EAEEC,iBAFF,EAGEC,gBAHF,EAIEC,eAJF,QAKO,wBALP;;AAOA,MAAMC,eAAe,GAAIC,KAAD,IAAW;AACjCF,EAAAA,eAAe;AACf,QAAM;AAAEG,IAAAA;AAAF,MAAmBR,UAAU,CAACC,oBAAD,CAAnC;AACA,QAAMQ,eAAe,GAAGD,YAAY,CAACE,MAAb,CACrBC,WAAD,IAAiBA,WAAW,CAACC,IAAZ,KAAqBL,KADhB,CAAxB;AAGA,QAAMM,KAAK,GAAGJ,eAAe,CAACK,MAAhB,CACZ,CAACC,GAAD,EAAMC,OAAN,KAAmBD,GAAG,IAAIC,OAAO,CAACC,MADtB,EAEZ,CAFY,CAAd;AAIA,QAAMC,UAAU,GACdX,KAAK,KAAK,QAAV,GACIL,gBADJ,GAEIK,KAAK,KAAK,SAAV,GACAJ,iBADA,GAEAC,gBALN;AAMA,QAAMe,SAAS,GAAGX,YAAY,CAACE,MAAb,CACfC,WAAD,IAAiBA,WAAW,CAACC,IAAZ,KAAqB,QADtB,CAAlB;AAGA,QAAMQ,UAAU,GAAGZ,YAAY,CAACE,MAAb,CAChBC,WAAD,IAAiBA,WAAW,CAACC,IAAZ,KAAqB,SADrB,CAAnB;AAIAH,EAAAA,eAAe,CAACY,OAAhB,CAAyBV,WAAD,IAAiB;AACvC,UAAMW,QAAQ,GAAGJ,UAAU,CAACK,IAAX,CACdD,QAAD,IAAcA,QAAQ,CAACV,IAAT,KAAkBD,WAAW,CAACW,QAD7B,CAAjB;AAIA,QAAIA,QAAJ,EAAcA,QAAQ,CAACL,MAAT,IAAmBN,WAAW,CAACM,MAA/B;AACf,GAND;AAQAE,EAAAA,SAAS,CAACE,OAAV,CAAmBV,WAAD,IAAiB;AAEjC,QAAIW,QAAJ,EAAcH,SAAS,CAACF,MAAV,IAAoBN,WAAW,CAACM,MAAhC;AACf,GAHD;AAKAG,EAAAA,UAAU,CAACC,OAAX,CAAoBV,WAAD,IAAiB;AAClC,QAAIW,QAAJ,EAAcA,QAAQ,CAACL,MAAT,IAAmBN,WAAW,CAACM,MAA/B;AACf,GAFD;AAIA,QAAMO,kBAAkB,GAAGN,UAAU,CAACR,MAAX,CAAmBe,CAAD,IAAOA,CAAC,CAACR,MAAF,GAAW,CAApC,CAA3B;AAEA,QAAMS,iBAAiB,GAAG;AACxBC,IAAAA,QAAQ,EAAE,CACR;AACEC,MAAAA,IAAI,EAAEJ,kBAAkB,CAACK,GAAnB,CAAwBJ,CAAD,IAAOA,CAAC,CAACR,MAAhC,CADR;AAEEa,MAAAA,eAAe,EAAE,CACf,yBADe,EAEf,yBAFe,EAGf,yBAHe;AAFnB,KADQ,CADc;AAWxBC,IAAAA,MAAM,EAAEP,kBAAkB,CAACK,GAAnB,CAAwBJ,CAAD,IAAOA,CAAC,CAACb,IAAhC;AAXgB,GAA1B;AAaA,QAAMoB,SAAS,GAAG;AAChBL,IAAAA,QAAQ,EAAE,CACR;AACEC,MAAAA,IAAI,EAAEJ,kBAAkB,CAACK,GAAnB,CAAwBJ,CAAD,IAAOA,CAAC,CAACR,MAAhC,CADR;AAEEa,MAAAA,eAAe,EAAEN,kBAAkB,CAACK,GAAnB,CAAwBJ,CAAD,IAAOA,CAAC,CAACQ,KAAhC;AAFnB,KADQ,CADM;AAOhBF,IAAAA,MAAM,EAAEP,kBAAkB,CAACK,GAAnB,CAAwBJ,CAAD,IAAOA,CAAC,CAACb,IAAhC;AAPQ,GAAlB;AAUA,SAAO;AAAEY,IAAAA,kBAAF;AAAsBX,IAAAA,KAAtB;AAA6BmB,IAAAA,SAA7B;AAAwCN,IAAAA;AAAxC,GAAP;AACD,CAlED;;AAoEA,eAAepB,eAAf","sourcesContent":["import { useContext } from \"react\";\r\nimport { BudgetTrackerContext } from \"./context/context\";\r\n\r\nimport {\r\n  incomeCategories,\r\n  expenseCategories,\r\n  savingCategories,\r\n  resetCategories,\r\n} from \"./constants/categories\";\r\n\r\nconst useTransactions = (title) => {\r\n  resetCategories();\r\n  const { transactions } = useContext(BudgetTrackerContext);\r\n  const allTransactions = transactions.filter(\r\n    (transaction) => transaction.type === title\r\n  );\r\n  const total = allTransactions.reduce(\r\n    (acc, currVal) => (acc += currVal.amount),\r\n    0\r\n  );\r\n  const categories =\r\n    title === \"Income\"\r\n      ? incomeCategories\r\n      : title === \"Expense\"\r\n      ? expenseCategories\r\n      : savingCategories;\r\n  const allSaving = transactions.filter(\r\n    (transaction) => transaction.type === \"Saving\"\r\n  );\r\n  const allExpense = transactions.filter(\r\n    (transaction) => transaction.type === \"Expense\"\r\n  );\r\n\r\n  allTransactions.forEach((transaction) => {\r\n    const category = categories.find(\r\n      (category) => category.type === transaction.category\r\n    );\r\n\r\n    if (category) category.amount += transaction.amount;\r\n  });\r\n\r\n  allSaving.forEach((transaction) => {\r\n   \r\n    if (category) allSaving.amount += transaction.amount;\r\n  });\r\n\r\n  allExpense.forEach((transaction) => {\r\n    if (category) category.amount += transaction.amount;\r\n  });\r\n\r\n  const filteredCategories = categories.filter((c) => c.amount > 0);\r\n\r\n  const chartOverviewData = {\r\n    datasets: [\r\n      {\r\n        data: filteredCategories.map((c) => c.amount),\r\n        backgroundColor: [\r\n          \"rgba(255, 99, 132, 0.5)\",\r\n          \"rgba(75, 192, 192, 0.5)\",\r\n          \"rgba(54, 162, 235, 0.5)\",\r\n        ],\r\n      },\r\n    ],\r\n    labels: filteredCategories.map((c) => c.type),\r\n  };\r\n  const chartData = {\r\n    datasets: [\r\n      {\r\n        data: filteredCategories.map((c) => c.amount),\r\n        backgroundColor: filteredCategories.map((c) => c.color),\r\n      },\r\n    ],\r\n    labels: filteredCategories.map((c) => c.type),\r\n  };\r\n\r\n  return { filteredCategories, total, chartData, chartOverviewData };\r\n};\r\n\r\nexport default useTransactions;\r\n"]},"metadata":{},"sourceType":"module"}